<div class="order-page">

  <!-- Continue shopping button at far left -->
  <button class="btn btn-secondary btn-continue-global" routerLink="/home">
    â† Continue Shopping
  </button>

  <div class="order-container fade-in-page">

    <!-- Header -->
    <div class="order-header">
      <h3 class="order-title">ğŸ›’ Order History</h3>
    </div>

    <!-- No orders alert -->
    <div *ngIf="orders.length === 0" class="alert alert-warning text-center">
      No orders found.
    </div>

    <!-- Orders list -->
    <div *ngFor="let order of orders" class="card order-card shadow-sm">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6>Order ID: {{ order.id }}</h6>
            <small class="text-muted">Date: {{ order.date | date: 'medium' }}</small>
          </div>
          <button
            class="btn btn-sm btn-outline-primary"
            (click)="toggleDetails(order.id)"
          >
            {{ isExpanded(order.id) ? 'Hide Details' : 'View Details' }}
          </button>
        </div>

        <!-- Expanded details with smooth animation -->
        <div
          *ngIf="isExpanded(order.id)"
          class="expanded-details"
        >
          <ul class="list-group mb-2">
            <li
              class="list-group-item d-flex justify-content-between product-title"
              *ngFor="let item of order.items"
            >
              {{ item.productName }} (x{{ item.quantity }})
              <span class="fw-bold">${{ item.price * item.quantity }}</span>
            </li>
          </ul>
          <div class="text-end">
            <h6>Total: ${{ getTotal(order) }}</h6>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
